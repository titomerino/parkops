{% extends "shell/base.html" %}

{% block title %}ParkOps / Escanear placa de vehículo{% endblock %}
{% block page_title %}Parking Buscar{% endblock %}

{% block content %}

{% include 'shell/partials/_messages_alert.html' with messages=messages %}

<!-- Card principal -->
<div class="card bg-dark text-light border-0 shadow-lg rounded-4">
  <div class="card-body">

    <!-- Tip superior -->
    <div class="alert alert-info py-2 px-3 mb-3 small d-flex align-items-center">
      <i class="bi bi-lightbulb-fill me-2"></i>
      Busca una placa o regístrala rápidamente.
    </div>

    <!-- Input -->
    <form method="POST" novalidate>
      {% csrf_token %}

      <div class="mb-4">
        <label class="form-label small text-muted">
          Placa del vehículo
        </label>

        <div class="input-group mb-2 shadow-sm rounded-3">

          <!-- Icono -->
          <span class="input-group-text bg-dark border border-secondary text-light rounded-start-3">
            <i class="bi bi-search opacity-75"></i>
          </span>

          <!-- Campo -->
          <input
            type="text"
            name="plate"
            id="plateInput"
            value="{{ form.plate.value|default_if_none:'' }}"
            class="form-control bg-dark border border-secondary text-light rounded-end-3"
            placeholder="P123ABC"
            required
            autofocus
            style="box-shadow:none;"
            maxlength="10"
            pattern="[A-Z0-9]+"
            oninput="this.value = this.value.replace(/\s/g, '').toUpperCase()"
          >
        </div>

        {% if form.plate.help_text %}
        <div class="form-text text-muted mt-1">
          {{ form.plate.help_text }}
        </div>
        {% endif %}
      </div>

      <!-- Botón -->
      <button
        type="submit"
        class="btn btn-success w-100 rounded-pill shadow-sm d-flex align-items-center justify-content-center gap-2"
        style="transition: transform .1s ease, box-shadow .1s ease;"
        onmousedown="this.style.transform='scale(0.98)'; this.style.boxShadow='0 0 0 0 rgba(0,0,0,0)';"
        onmouseup="this.style.transform='scale(1)'; this.style.boxShadow='';"
      >
        <i class="bi bi-search"></i>
        Ingresar / buscar
      </button>

    </form>
  </div>
</div>

{% endblock %}

{% block menu_bottom %}
    {% include 'parking/partials/_parking_menu_bottom.html' %}
{% endblock %}

{% block extra_js %}
{% endblock %}
